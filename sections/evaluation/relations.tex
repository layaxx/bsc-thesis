To evaluate which set of predicates performs best, again a database of cases is generated by running the agent in create-only mode.
For every case, enough information is saved such that predicates can be generated after the agent has finished. Effectively, this means that the the target object and the pre- and post-shot screenshots are saved. For each set of predicates, the corresponding Prolog rules can now be generated by loading the images, generating the cases as the agent would during a normal run and writing the prolog rules to the database.

For each set the agent can then be run in CBR-only mode. This means that the agent tries to find a matching CBR case from the database and executes the best available. If no case matches better then a threshold, the agent targets a pig directly. In this mode, no new cases are generated and cases are not updated, to limit randomness. Due to stochastic elements in the scene matching, which have been discussed earlier, randomness cannot be entirely avoided.

Because the agent runs on the same database for every set of predicates, the results are comparable. For each set of predicates, the appropriate case database was generated and the agent was run for 60 minutes. The Level selection module was set to first iteratively play every level before any levels can be attempted again., further improving comparability between runs.
Applicability of cases was determined with 50 iterations of the \ac{WMCH} algorithm.

During runs, every action performed ny the agent is logged, so that the run can be analyzed afterwards. Relevant data includes the strategies that were considered and which strategy was chosen for each shot, the results of a shot, expected and actual effects for CBR shots and the score if a level is beaten.

This information allows the run to be reconstructed and analyzed at any time.

For this purpose, the quality is judged by the maximum score the agent achieves and by whether a case kills the pigs it promised to, regardless of other objects that should have been affected.
% TODO: add results: